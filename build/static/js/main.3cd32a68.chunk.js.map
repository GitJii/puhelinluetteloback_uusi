{"version":3,"sources":["components/Person.js","components/FilterLomake.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","className","name","number","FilterLomake","selected","persons","deletePerson","filter","includes","map","p","key","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","App","useEffect","personService","initialPersons","setPersons","useState","newName","setNewName","newNumber","setNewNumber","setSelected","errorMessage","setErrorMessage","value","onChange","event","console","log","target","onSubmit","preventDefault","personObject","window","alert","pId","find","changedPerson","setTimeout","catch","error","concat","type","personToBeDeleted","eiPoistetut","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3cd32a68.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person}) => {\r\n\r\n    return (\r\n        <table>\r\n            <tbody>\r\n                <tr>\r\n                    <td className='person'>\r\n                        {person.name} {person.number}\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst FilterLomake = ({ selected, persons, deletePerson }) => {\r\n\r\n    const showSelected = (selected === '')\r\n        ? persons\r\n        : persons.filter(person =>\r\n            person.name.includes(selected)\r\n        )\r\n\r\n    const rivit = () =>\r\n        showSelected.map(p =>\r\n            <div key={p.name}>\r\n                <Person person={p} />\r\n                <button onClick={() => deletePerson(p.id)}>Delete</button>\r\n            </div>\r\n        )\r\n    return rivit()\r\n}\r\n\r\nexport default FilterLomake","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n  getAll: getAll,\r\n  create: create,\r\n  update: update,\r\n  deletePerson: deletePerson,\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message}) => {\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport FilterLomake from './components/FilterLomake'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [selected, setSelected] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState('something bad has happened')\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    const t = persons.map(p => p.name)\r\n    if (!t.includes(newName)) {\r\n\r\n      personService\r\n        .create(personObject)\r\n        .then(data => {\r\n          setPersons(persons.concat(data))\r\n          setErrorMessage(`Person ${personObject.name} was successfully added`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 3000)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        })\r\n    } else {\r\n      window.alert(`Puhelinluettelo sisältää jo syöttämäsi nimen ${newName}, haluatko korvata vanhan numeron uudella?`)\r\n\r\n      const pId = persons.find(person => person.name === newName)\r\n      const changedPerson = { name: pId.name, number: newNumber }\r\n\r\n      personService\r\n        .update(pId.id, changedPerson)\r\n        .then(() => {\r\n          setPersons(persons)\r\n          setErrorMessage(`Person's ${personObject.name} informations was updated successfully`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 3000)\r\n        })\r\n        .catch(error => {\r\n          setErrorMessage(`Person ${personObject.name} was already removed from server`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilter = (event) => {\r\n    console.log(event.target.value)\r\n    setSelected(event.target.value)\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const deletePerson = (id) => {\r\n\r\n    const personToBeDeleted = persons.find(person => person.id === id)\r\n\r\n    personService\r\n      .deletePerson(id)\r\n      .then(() => {\r\n        const eiPoistetut = persons.filter(p =>\r\n          p.id !== id)\r\n        setPersons(eiPoistetut)\r\n\r\n        setErrorMessage(`you just deleted person named '${personToBeDeleted.name}'`)\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 5000)\r\n      })\r\n      .catch(error => {\r\n        setPersons(persons.filter(p => p.id !== id))\r\n        setErrorMessage(\r\n          `person coudn't be deleted`\r\n        )\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 5000)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n\r\n      <Notification message={errorMessage} />\r\n\r\n      <div>\r\n        filter shown with <input value={selected}\r\n          onChange={handleFilter}\r\n        />\r\n      </div>\r\n\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input value={newName}\r\n            onChange={handleNameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber}\r\n            onChange={handleNumberChange}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <button type=\"submit\"> Submit</button>\r\n        </div>\r\n      </form>\r\n      <h2>Numbers</h2>\r\n      <FilterLomake selected={selected} persons={persons} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}